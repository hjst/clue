$(document).ready(function(){$.ajax({url:$("form[name=clue]").attr("action")+"?pattern=_",dataType:"jsonp",timeout:10000}).complete(function(){console.log("Heroku hack primer query succeeded")})});$(document).ready(function(){$("form[name=clue]").submit(function(a){a.preventDefault();$("#clue-results").empty().append($("<ol>"));$(this).children(":submit").val("Finding...").attr("disabled",true);$("#clue-status").removeClass("error").html("");$.ajax({url:$(this).attr("action")+"?"+$(this).serialize(),dataType:"jsonp",success:process_clue_response,timeout:10000}).complete(function(){$("form[name=clue]").children(":submit").val("Find").removeAttr("disabled")}).fail(function(b,d,c){$("#clue-status").html("ERROR: "+d).addClass("error")})});if(window.location.hash){$("#pattern").val(window.location.hash.substr(1));$("form[name=clue]").submit()}});var process_clue_response=function(a){$.each(a[0].results,function(b,c){$("#clue-results ol").append($("<li>").append($("<a>",{text:c,href:"http://wordnik.com/words/"+c,click:function(d){d.preventDefault();wordnik_api_lookup($(this))}})))});$("#clue-status").html(a[0].message);if(a[0].status=="error"){$("#clue-status").addClass("error")}window.location.hash="#"+a[0].pattern;$("#pattern").blur()};$(document).ready(function(){if("onhashchange" in window){window.onhashchange=hash_changed}});function hash_changed(){var a=location.hash.substr(1);var b=$("#pattern").val().replace(/[^a-zA-Z]/g,"_");if(a===b){}else{$("#pattern").val(window.location.hash.substr(1));$("form[name=clue]").submit()}}function wordnik_api_lookup(a){console.log("word: ",$(a).text());$.ajax({url:"http://api.wordnik.com/v4/word.json/"+$(a).text()+"/definitions",dataType:"jsonp",data:{api_key:"e60b288bc3c06fdc220080d9f7a07a21d14a31af52b8ad97c",},success:function(c){var b=[];$.each(c,function(d,e){b.push($("<li>").html(e.text));console.log("wordnik_response: ",e.text)});$(a).parent().append($("<ul>").append(b))},timeout:10000}).complete(function(){}).fail(function(b,d,c){})};