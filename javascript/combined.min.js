$(document).ready(function(){$.ajax({url:$("form[name=clue]").attr("action")+"?pattern=_",dataType:"jsonp",timeout:10000})});$(document).ready(function(){$("form[name=clue]").submit(function(a){a.preventDefault();$("#clue-results").empty().append($("<ol>"));$(this).children(":submit").val("Finding...").attr("disabled",true);$("#clue-status").removeClass("error").html("");$.ajax({url:$(this).attr("action")+"?"+$(this).serialize(),dataType:"jsonp",success:process_clue_response,timeout:10000}).complete(function(){$("form[name=clue]").children(":submit").val("Find").removeAttr("disabled")}).fail(function(b,d,c){$("#clue-status").html("ERROR: "+d).addClass("error")})});if(window.location.hash){$("#pattern").val(window.location.hash.substr(1));$("form[name=clue]").submit()}});var process_clue_response=function(a){$.each(a[0].results,function(b,c){$("#clue-results ol").append($("<li>").append($("<a>",{text:c,href:"http://wordnik.com/words/"+c,click:function(d){if($(d.target).data("wordnik_fetched")){return true}else{d.preventDefault();wordnik_api_lookup($(this));$(this).data("wordnik_fetched",true)}}})))});$("#clue-status").html(a[0].message);if(a[0].status=="error"){$("#clue-status").addClass("error")}window.location.hash="#"+a[0].pattern;$("#pattern").blur()};$(document).ready(function(){if("onhashchange" in window){window.onhashchange=hash_changed}});function hash_changed(){var a=location.hash.substr(1);var b=$("#pattern").val().replace(/[^a-zA-Z]/g,"_");if(a===b){}else{$("#pattern").val(window.location.hash.substr(1));$("form[name=clue]").submit()}}function wordnik_api_lookup(a){$(a).append($('<div id="loader">').append($('<div id="bowl_ringG">').append($('<div class="ball_holderG">').append($('<div class="ballG">')))));$.ajax({url:"http://api.wordnik.com/v4/word.json/"+$(a).text()+"/definitions",dataType:"jsonp",data:{api_key:"e60b288bc3c06fdc220080d9f7a07a21d14a31af52b8ad97c",},success:function(c){var b=[];$.each(c,function(d,e){var f='<em class="def-part">'+e.partOfSpeech+'</em> <span class="def-text">'+e.text+'</span> <span class="def-attrib">'+e.attributionText+"</span>";b.push($("<li>").html(f))});if(b.length>0){$(a).parent().append($("<ol>").append(b))}else{$(a).parent().append('<p class="wordnik-msg">No definitions found.</p>')}},timeout:10000}).complete(function(){$("div#loader").remove()}).fail(function(b,d,c){$(a).parent().append('<p class="wordnik-msg">No response from Wordnik API.</p>')})};